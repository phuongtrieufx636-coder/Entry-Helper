<!DOCTYPE html>

<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XAU/USD Real-time Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 10px;
        min-height: 100vh;
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
    }

    .price-header {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        margin-bottom: 20px;
        text-align: center;
    }

    .main-price {
        font-size: 4em;
        font-weight: bold;
        color: #2c3e50;
        margin: 20px 0;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .price-source {
        font-size: 0.9em;
        color: #666;
        margin-top: 10px;
    }

    .price-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
    }

    .price-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 12px;
        text-align: center;
    }

    .price-card.bid {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    .price-card.ask {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }

    .price-card.spread {
        background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    }

    .card-label {
        font-size: 0.9em;
        opacity: 0.9;
        margin-bottom: 8px;
    }

    .card-value {
        font-size: 2em;
        font-weight: bold;
    }

    .status-bar {
        background: white;
        padding: 15px;
        border-radius: 10px;
        margin: 15px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
    }

    .status-item {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .status-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        animation: pulse 2s infinite;
    }

    .status-dot.online {
        background: #28a745;
    }

    .status-dot.loading {
        background: #ffc107;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    .update-info {
        font-size: 0.9em;
        color: #666;
    }

    .refresh-btn {
        padding: 10px 25px;
        background: #28a745;
        color: white;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
    }

    .refresh-btn:hover {
        background: #218838;
        transform: translateY(-2px);
    }

    .analysis-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
    }

    .card {
        background: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .card h2 {
        color: #2c3e50;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 3px solid #667eea;
    }

    .entry-card {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 15px;
    }

    .entry-header {
        font-size: 1.3em;
        font-weight: bold;
        margin-bottom: 15px;
    }

    .entry-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }

    .entry-item {
        background: rgba(255,255,255,0.2);
        padding: 12px;
        border-radius: 8px;
    }

    .entry-label {
        font-size: 0.85em;
        opacity: 0.9;
        margin-bottom: 5px;
    }

    .entry-value {
        font-size: 1.4em;
        font-weight: bold;
    }

    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }

    .loading-content {
        background: white;
        padding: 40px;
        border-radius: 15px;
        text-align: center;
    }

    .spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #667eea;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        margin: 0 auto 20px;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .error-message {
        background: #f8d7da;
        color: #721c24;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #dc3545;
    }

    .success-message {
        background: #d4edda;
        color: #155724;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #28a745;
    }
</style>
```

</head>
<body>
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2>ƒêang t·∫£i gi√° XAU/USD...</h2>
            <p id="loadingStatus">K·∫øt n·ªëi t·ªõi API...</p>
        </div>
    </div>

```
<div class="container">
    <div class="price-header">
        <h1>üèÜ XAU/USD REAL-TIME üìà</h1>
        
        <div class="main-price" id="mainPrice">--</div>
        <div class="price-source" id="priceSource">ƒêang t·∫£i...</div>

        <div class="price-grid">
            <div class="price-card bid">
                <div class="card-label">BID</div>
                <div class="card-value" id="bidPrice">--</div>
            </div>
            <div class="price-card ask">
                <div class="card-label">ASK</div>
                <div class="card-value" id="askPrice">--</div>
            </div>
            <div class="price-card spread">
                <div class="card-label">SPREAD</div>
                <div class="card-value" id="spreadValue">--</div>
            </div>
        </div>

        <div class="status-bar">
            <div class="status-item">
                <div class="status-dot" id="statusDot"></div>
                <span id="statusText">ƒêang k·∫øt n·ªëi...</span>
            </div>
            <div class="update-info" id="updateTime">--</div>
            <button class="refresh-btn" onclick="fetchLatestPrice()">üîÑ L√†m m·ªõi</button>
        </div>
    </div>

    <div class="analysis-grid">
        <div class="card">
            <h2>‚ö° SCALPING (M15)</h2>
            <div class="entry-card">
                <div class="entry-header">Quick Entry</div>
                <div class="entry-grid">
                    <div class="entry-item">
                        <div class="entry-label">Entry</div>
                        <div class="entry-value" id="scalp_entry">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">Stop Loss</div>
                        <div class="entry-value" id="scalp_sl">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">Take Profit</div>
                        <div class="entry-value" id="scalp_tp">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">R:R</div>
                        <div class="entry-value">1:2</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üìä SWING (H4)</h2>
            <div class="entry-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                <div class="entry-header">Medium Term</div>
                <div class="entry-grid">
                    <div class="entry-item">
                        <div class="entry-label">Entry</div>
                        <div class="entry-value" id="swing_entry">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">Stop Loss</div>
                        <div class="entry-value" id="swing_sl">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">Take Profit</div>
                        <div class="entry-value" id="swing_tp">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">R:R</div>
                        <div class="entry-value">1:3</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üéØ POSITION (D1)</h2>
            <div class="entry-card" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                <div class="entry-header">Long Term</div>
                <div class="entry-grid">
                    <div class="entry-item">
                        <div class="entry-label">Entry</div>
                        <div class="entry-value" id="position_entry">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">Stop Loss</div>
                        <div class="entry-value" id="position_sl">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">Take Profit</div>
                        <div class="entry-value" id="position_tp">--</div>
                    </div>
                    <div class="entry-item">
                        <div class="entry-label">R:R</div>
                        <div class="entry-value">1:4</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let currentPrice = null;
    let lastUpdate = null;
    let priceSource = null;

    // API Sources v·ªõi priority
    const API_SOURCES = [
        {
            name: 'Binance Futures',
            url: 'https://fapi.binance.com/fapi/v1/ticker/price?symbol=XAUUSDT',
            parse: (data) => parseFloat(data.price)
        },
        {
            name: 'Binance Spot PAX Gold',
            url: 'https://api.binance.com/api/v3/ticker/price?symbol=PAXGUSDT',
            parse: (data) => parseFloat(data.price)
        },
        {
            name: 'CoinGecko',
            url: 'https://api.coingecko.com/api/v3/simple/price?ids=pax-gold&vs_currencies=usd',
            parse: (data) => data['pax-gold'].usd
        }
    ];

    async function fetchLatestPrice() {
        document.getElementById('statusDot').className = 'status-dot loading';
        document.getElementById('statusText').textContent = 'ƒêang c·∫≠p nh·∫≠t...';
        
        // Th·ª≠ t·ª´ng API source
        for (const source of API_SOURCES) {
            try {
                console.log(`üîç Th·ª≠ ${source.name}...`);
                document.getElementById('loadingStatus').textContent = `ƒêang th·ª≠ ${source.name}...`;
                
                const response = await fetch(source.url);
                
                if (!response.ok) {
                    console.log(`‚ùå ${source.name} failed: ${response.status}`);
                    continue;
                }
                
                const data = await response.json();
                const price = source.parse(data);
                
                if (price && price > 2000 && price < 3000) {
                    console.log(`‚úÖ ${source.name} th√†nh c√¥ng: $${price}`);
                    currentPrice = price;
                    priceSource = source.name;
                    lastUpdate = new Date();
                    
                    updateDisplay();
                    hideLoading();
                    return; // Th√†nh c√¥ng, tho√°t
                }
            } catch (error) {
                console.log(`‚ùå ${source.name} error:`, error.message);
                continue;
            }
        }
        
        // N·∫øu t·∫•t c·∫£ APIs fail
        console.error('‚ùå T·∫•t c·∫£ API sources ƒë·ªÅu th·∫•t b·∫°i');
        showError('Kh√¥ng th·ªÉ k·∫øt n·ªëi t·ªõi ngu·ªìn gi√°. Vui l√≤ng th·ª≠ l·∫°i.');
        hideLoading();
    }

    function updateDisplay() {
        if (!currentPrice) return;
        
        // Main price
        document.getElementById('mainPrice').textContent = '$' + currentPrice.toFixed(2);
        document.getElementById('priceSource').textContent = `Ngu·ªìn: ${priceSource}`;
        
        // Bid/Ask/Spread
        const spread = 0.50;
        const bid = currentPrice - spread / 2;
        const ask = currentPrice + spread / 2;
        
        document.getElementById('bidPrice').textContent = '$' + bid.toFixed(2);
        document.getElementById('askPrice').textContent = '$' + ask.toFixed(2);
        document.getElementById('spreadValue').textContent = '$' + spread.toFixed(2);
        
        // Status
        document.getElementById('statusDot').className = 'status-dot online';
        document.getElementById('statusText').textContent = '‚úÖ ƒê√£ k·∫øt n·ªëi';
        document.getElementById('updateTime').textContent = 
            'C·∫≠p nh·∫≠t: ' + lastUpdate.toLocaleTimeString('vi-VN');
        
        // Entry points
        updateEntryPoints(currentPrice);
    }

    function updateEntryPoints(price) {
        // Scalping
        document.getElementById('scalp_entry').textContent = '$' + price.toFixed(2);
        document.getElementById('scalp_sl').textContent = '$' + (price - 3).toFixed(2);
        document.getElementById('scalp_tp').textContent = '$' + (price + 6).toFixed(2);
        
        // Swing
        document.getElementById('swing_entry').textContent = '$' + price.toFixed(2);
        document.getElementById('swing_sl').textContent = '$' + (price - 12).toFixed(2);
        document.getElementById('swing_tp').textContent = '$' + (price + 36).toFixed(2);
        
        // Position
        document.getElementById('position_entry').textContent = '$' + price.toFixed(2);
        document.getElementById('position_sl').textContent = '$' + (price - 25).toFixed(2);
        document.getElementById('position_tp').textContent = '$' + (price + 100).toFixed(2);
    }

    function hideLoading() {
        document.getElementById('loadingOverlay').style.display = 'none';
    }

    function showError(message) {
        const overlay = document.getElementById('loadingOverlay');
        overlay.querySelector('.loading-content').innerHTML = `
            <h2 style="color: #dc3545;">‚ö†Ô∏è L·ªói</h2>
            <p>${message}</p>
            <button onclick="location.reload()" style="margin-top: 20px; padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                Th·ª≠ l·∫°i
            </button>
        `;
    }

    // Auto update every 10 seconds
    function startAutoUpdate() {
        setInterval(() => {
            fetchLatestPrice();
        }, 10000);
    }

    // Initialize
    window.addEventListener('load', () => {
        console.log('üöÄ Kh·ªüi ƒë·ªông XAU/USD Real-time Tool');
        fetchLatestPrice();
        startAutoUpdate();
    });
</script>
```

</body>
</html>
